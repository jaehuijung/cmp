<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper 
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="sl.qr.mh.service.databaseMapper">

    <!-- [조회] 시스템 사용 로그 조회 -->
    <select id="systemLogParam" parameterType="String" resultType="hashMap">
        select id, ip, times, RackNumber, RackLocation, ServerName, PortNumber from qrlog
    </select>

    <!-- [조회] 시스템에 등록된 사용자의 정보 > 아이디/이름/이메일/전화번호/권한 -->
    <select id="systemUserParam" parameterType="String" resultType="hashMap">
        select id, name, email, phone from qruser 
        where 1=1
        <if test='id != "systemUserInfo"'>
            and id = #{userId}
        </if>   
    </select>

</mapper>